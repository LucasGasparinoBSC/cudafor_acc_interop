# ACC Array of Objects on CUDA kernels

In this example, an AOO created with OpenACC is accessed by CUDA Fortran kernels.

## Details

This example demonstrates how an AOO generated by OpenACC can be safely passed to a CUDA Fortran kernel. The way in which the AOO is created ensures its device permanence, and similar techniques to a `self_instantiation` example can be used to improve upon the strategy presented here.

As with all other cases of ACC data to CUDA kernels, the `acc host_data use_device` directive is used to obtain the device pointer of the AOO. Although the kernel is launched multiple times in a sequence, the host_data region is declared external to the loop, ensuring that the device pointer is obtained only once.

## Exercises

1. Modify the object to use self instantiation strategies
2. Use shared memory to extract local object data to shared memory caches (e.g., something similar to a dot product optimized kernel)
3. Repeat the exercise using a simple matrix DS. Check the performance vs. the OOP approach

## Building and running

The provided CMake infrastructure ensures appropriate compilation:

```bash
mkdir build
cd build
cmake ..
make
```

Ensure that the NVHPC compiler is available in your environment, as well as the CUDA toolkit.